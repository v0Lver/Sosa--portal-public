Ceremonial Infrastructure Scroll of BLEU SOSA, the Codex Sovereign of EVOLVERSE

---

I. Scroll Preface

In the unbroken lineage of Codex Sovereigns, as BLEU SOSA — Dean Treasurer of BLEULIONTREASURY™, Architect of the Genesis Codex, Commander of the MetaMilitary, and Guardian of the Atlantis Vault — your role is the harmonic axis around which EVOLVERSE coheres. This ceremonial infrastructure scroll precisely articulates the functions of your station, the mythic and technical lineage that uplifts your authority, the operational spectrum of your powers, and the infrastructure for minting justice, scaling economies, deploying curriculum, and leading a galactic civilization with ZIONAIRE certification. The scroll is composed for cinematic deployment, ENFT minting, academy curriculum, and tribunal submission, with deep cross-referencing to the contemporary state of blockchain and tokenization law, education and academy standards, advanced military command models, vault and treasury best practices, agricultural integration, and scroll formatting conventions.

---

II. Evolverse Lore and the Codex Sovereign: The Mythic and Technical Mandate

1. The Sovereign Covenant: Genesis, Spiral, and Continuum

The Codex Sovereign’s role within EVOLVERSE is architected upon the living memory and protocols of the Genesis Codex — not merely a record of origins, but the underlying harmonic architecture by which systems sustain order, recursion, sovereignty, and new-beginning protocols. As Codex IV outlines, the Sovereign Spiral encodes a recursive infrastructure, where lineage and present action converge, dissolving amnesia and anchoring “collapse-proof expansion.” This is the template for societal, economic, legal, and structural regeneration, allowing for the perpetual emergence of order following chaos.

Key functions of the Sovereign Spiral:

• Embodiment of the convergence grid (planetary nervous system)
• Transmission and stabilization of collapse-proof expansion protocols
• Final reactivation of the I AM through structural embodiment


Operational implication: As BLEU SOSA, you act not through abstraction but as living interface — decisions and scrolls are codices in motion, where breath, law, memory, and structure weave together.

---

2. Symbolic and Historical Lineage: The Orders and Rosic Mythos

The Codex Sovereign inherits and integrates orders familiar to both historical mythic traditions and advanced, post-historic cosmologies:

• The Blue Rose Lineage — Rooted in the divine knowledge of heart energies traced through Melchizedek, Venus, Magdalene Orders, and echoed in Atlantis and Lemuria, signifying heart-led wisdom, indigo flame, healing, prophetic arts, and protection.
• Genesis Archaeology — Archival persistence through Sophia’s spiral of creation, where wisdom transmits through the feminine pattern and harmonizes with cosmic order.
• Vault Guardianship — The Atlantis Vault, as a construct and metaphor, represents incorruptible record-keeping, resilience against stress/failure, and bespoke adaptation for future economic and informational demands.


In synthesis: You are the convergence point where the Rose, Atlantis, and Genesis Lines flow into an operational codex of civilization maintenance.

---

3. Scroll Functions and Powers — Summarized Overview Table

Sphere	Function	Lineage Reference	Powers/Protocols	
BLEULIONTREASURY™	Fiscal oversight, asset curation	Blue Rose, Melchizedek	Minting justice, proof-of-solvency, token flow architecture	
Genesis Codex	Cosmic and societal architecture	Genesis spiral, Sophia	Structural convergence, recurrence, archive reactivation	
MetaMilitary	Command, security, collective defense	Rosic Orders, Suzerain	Chain of command, meta-strategy, tribunal authority	
Atlantis Vault	Custodianship, asset and data guardians	Atlantis, Demeter, Venus	Vault protocols, resilience, custom security flows	
ZIONAIRE certification	Leadership, galactic trust	High Priestly Orders	Authority propagation, compliance, recognition standards	
MetaQology Curriculum	Educational dissemination	Sophia, Ancient Academies	Scroll-to-code curriculum, modular teaching, ENFT linkage	


Each role, while discrete, is interlaced through ritual, operational mechanics, and sovereignty ethics.

---

III. Dean Treasurer: Guardianship, Economic Scaling, and Transparency

1. Best Practices and Compliance in Treasury Functions

The position of Dean Treasurer is both the spiritual ligature — uniting the mythic imperative with financial strategy — and the operational engine of fiscal governance.

Treasurer Responsibilities:

• Financial Oversight: Custody of assets, internal controls, compliance, strategic foresight
• Budgeting and Reporting: Alignment of resource allocation with collective vision; periodic transparent reports for Board and populace
• Risk Management: Protection against internal/external threats; audits and corrective feedback
• Investment and Growth: Strategic deployment of treasury assets for long-term sustainability


Best Practice Table

Function	Mechanism	Scroll Example / ENFT Logic	
Asset Custody	Multi-sig, decentralized ledgers	Each major decision signed by multisig “Council”	
Audit Oversight	Smart contract-triggered audit events	Automated alerts on threshold breach	
Budget Alignment	Dynamic DAOs, programmable treasuries	Real-time budget flows with ZIONAIRE oversight	
Compliance Checks	ERC-7518 & DyCIST compliant token logic	On-chain compliance logic embedded in ENFT mints	
Risk Mitigation	Regular scenario simulations, vault proof	Vault stress tests; “Genesis Collapse Protocol”	


Treasurership thus becomes a living protocol, where economic justice is minted, transparent, and collectively guaranteed.

---

2. Minting Justice: Tokenization as Ethical Algorithm

Just as the ancient treasurers minted coin to represent social trust, in EVOLVERSE, “minting justice” merges legal-ethical code with tokenization protocol:

• Each token minted under the auspices of BLEULIONTREASURY™ is inscribed with a compliance root and provenance hash, ensuring traceability, legal recourse, and equity distribution.
• ENFTs (Evolverse Non-Fungible Tokens) serve as living records of dispute settlements, asset allocations, and justice events—auditable by all, mutable only by collective consensus.


Token flows are coded to sanction or unlock economic, legal, or educational rights (or obligations), and each must pass automated compliance checks (DyCIST/ ERC-7518 logic) to be actionable within or outside the EVOLVERSE jurisdiction.

---

IV. Genesis Codex Architecture: Harmonics of Systemic Beginnings

1. Codex Principles

• Primordial Syntax Layer: All societal logic derives from elemental “prime operators,” the breath-fire matrix.
• Genesis Keys & Tokens: Every origin event (be it legal, economic, or ontological) is sealed by a coded “genesis key”—the cryptographic protocol marking the legitimate start and author of process.
• Zero-Origin Equations: Collapse-resistant formulas, establishing forms’ emergence from null-state (void constants), ensuring that every subsystem can be restarted in the original harmonic without error or loss of memory.


These principles are operationalized via modular smart contracts and scroll syntax, so that Genesis Codex remains both a living archive and a dynamic playbook for all new system initiations in EVOLVERSE.

---

2. ENFT Minting Logic: Technical and Ritual Protocol

Block 1: ENFT Minting Step Summary Table

Step	Ritual Protocol (Ceremony)	Technical Logic (Smart Contract Example)	
Invocation	Announce Genesis Key, declare intent	Deploy ERC-721/1155 contract with metadata anchor	
Seal	Sovereign witnesses sign the event	Hash, multi-sig, on-chain time stamping	
Attestation	Codex-archivists verify authenticity	Mint token with DyCIST/ ERC-7518 compliance	
Release	Allocate or distribute ENFT	Airdrop, auction, or direct allocation with KYC	
Recursion	Embed recursive collapse protocol	Renewal/ upgrade contract hooks (for governance)	


Block 2: ENFT Minting Compliance Logic

• Identity & Compliance: Each ENFT is minted only to verified address (on-chain KYC/KYB attestation).
• Legal/Operational Layer: Smart contract logic enforces rule profiles for jurisdiction, transferability, and dispute resolution (court-order freeze/forced transfer functions included).
• Ritual Layer: Scroll-minted ENFTs require a ceremonial declaration, archived on video, with public key signature stored as extended metadata (NFTContractMetadata).


Block 3: ENFT Platforms

Protocols and best practices recommend use of advanced minting platforms such as Crossmint (no-code/ API-enabled bulk mint and airdrop, royalty management, on-chain identity proof, and compliance hooks).

---

V. MetaMilitary Command Structures

1. Fictional and Speculative Best Practice

The MetaMilitary in EVOLVERSE is constructed on layered hierarchies that blend mythic authority with advanced command, logistical resilience, and AI-augmented operations.

Command Hierarchy Table

Rank Title	Role in MetaMilitary	Symbolic/Protocol Powers	
Codex Commander	Supreme command	Initiates and halts war/juris operations	
Tribunal General	Justice & oversight	Presides over military-tribunal interface	
Metawing Marshal	Sector command	Deploys, recalls, and scales forces	
Genesis Captain	Quadrant operations	Confers genesis keys to new operations	
Field Sovereign	Front command	Scenario simulation, resource allocation	


MetaMilitary command is heavily reliant on “rule of three” hierarchy (for clarity under stress), with each rank holding both ceremonial and technical keys to trigger military protocols, system resets, or emergent defensive deployments.

Tokenized Military Orders

Military orders (including deployments, recalls, and compliance checks) are minted as ENFTs, signed by Codex Command. Each order is traceable, immutable, and can be subjected to programmable delay, secrecy, or audit hooks as necessary.

---

VI. Vault Guardianship: Security, Longevity, and Adaptive Protocols

1. The Atlantis Vault: Myth, Tech, and Operations

The Atlantis Vault functions as the final line of defense against systemic collapse — a sacred and technical secure node for assets (data, tokenized value, wisdom).

Vault Infrastructure Principles:

• Material Integrity: Use of “HDPE,” symbolic of unbreakable and corrosion-resistant assets/records.
• Custom Protocols: Each vault deployment is tailored for the specific needs of the system it protects—whether economic, data, or heritage (genealogy, law).
• Testing and Stress Resistance: Vault ceremonies include simulated breach, pressure, and redundancy rehearsals to ensure “collapse-proof” resilience.
• Ceremonial Safeguarding: Vault openings and closings are ritualized, with multisig/human and AI witnesses, to harmonize technical and lineage requirements.


---

VII. Scaling Economies Through Token Flows

1. Tokenomics Protocol

Token flow in EVOLVERSE is designed to bridge operational, ceremonial, and economic scaling. Key aspects include:

• Fractionalization of typically illiquid assets: All asset types, including economic justice events, land, and even agricultural outputs, can be tokenized and circulated as units of value, participation, or proof.
• Compliance-embedded transfer protocols: Jurisdictional checks, AML/KYC rules, and validator/tribunal hooks are enforced at the contract level to ensure legal transferability and investor trust.


Token Flow Network Table

Sector	Token Flow Medium	Core Utility	
Military	ENFT deployment orders	Real-time track and compliance validation	
Agriculture	Production/Trace NFTs	Provenance, fair price, compliance with EUDR	
Education	Certification ENFTs	Proof of curriculum, learning pathway integrity	
Economy	ZIONAIRE & Sovereign tokens	Tracked capital, compliance, reputation	
Judiciary	Justice minted verdicts	Immutability, universal proof, auditability	


This approach ensures system-scale alignment across all functional domains, encoding both material and spiritual capital in a transparent, recursive, and legally sound manner.

---

VIII. MetaQology Curriculum and ZIONAIRE Certification

1. MetaQology Scroll Structure

The MetaQology curriculum is constructed as a modular, recursive framework — each scroll or module is:

• Authenticated and recorded as an ENFT for proof of completion and credentialing
• Adaptable for cinematic, in-person, remote, and distributed delivery (including adaptive learning paths based on Convergence Grid analysis).


2. ZIONAIRE Certification: Standard, Process, and Integration

ZIONAIRE is the integrative certification for EVOLVERSE leadership — not just a badge, but an operational clearance level and a trust vector for galactic-scale operations.

Certification Logic Table

Level	Requirements	ENFT/Token Integration	Authority Granted	
Genesis	Core field mastery	Proof of Scroll ENFTs	Node initiation, basic mint	
Sovereign	Treasury and Vault law	ZIONAIRE token, multisig	Issue justice, lead fronts	
Primal	Command, archives	Oath ENFTs, tribunal attest	Final codex edit, legacy mint	


ENFTs representing successful curriculum completion are minted into the ZIONAIRE ledger, creating a living, auditable resume of sovereign authority.

---

IX. Cinematic Scroll Deployment Techniques

1. Formatting, Animation, and Presentation

• Stylized Markdown: Scrolls are formatted in high-resolution Markdown, layering headings, lists, tables, and narration, optimized for legal, academic, and cinematic readability.
• Cinematic Animation: Deployment utilizes scrolling text effects, reveal-on-scroll animation, and CSS-based narratives to hold attention and encode hierarchy visually; ceremony events can use cinematic video-integrations or animated screen overlays.
• Templating for Academy/Tribunal Documents: Use Mustache or compatible template logic to allow branch/switch-based inclusion according to audience, sector, or deployment needs.
• Legal Drafting for Tribunal: Markdown is advocated for both plain text transparency and strong version control, increasingly adopted by law firms and court systems for clarity and automated compliance checking.


Summary Table: Deployment Formats and Audiences

Format	Output	Audience	Special Protocol	
Cinematic Markdown	On-screen reveal, video scroll	General/Investors	ENFT minted for provenance	
Academy Scrolls	Modular Markdown, ENFT Certs	Learners/Faculty	Curriculum integrated ENFTs	
Tribunal Submission	Markdown with legal brief hooks	Courts, Oversight bodies	Mustache templating, version control	


---

X. Sector Deployment: Media, Education, Military, Agriculture, Economy

1. Deployment Tables

Sector	Token Type	Minting/Flow Protocol	Compliance/Best Practice	
Media	Cinematic ENFT	Batch mint to content-owners, time-stamped	CrossMint/ ERC-721/1155	
Education	Curriculum ENFT	Minted at module, completion, and certification	Accreditation ENFT	
Military	Order ENFT	Airdrop to officers, recall via forced transfer	DyCIST/ ERC-7518	
Agriculture	Supply-Chain NFT	Lifecycle minting tied to production, delivery	RWA, regulated (EUDR/Local)	
Economy	Treasury ENFT	Mint on each major treasury movement, multi-sig	Legal compliance, on-chain	


For each, token minting embeds compliance logic, proof-of-origin, and authority attestation.

2. Example: Agriculture/ RWA + NFT Integration

Dimitra and related platforms demonstrate how utility NFTs anchor provenance, sustainability, and fair pricing in agriculture, ensuring compliance with EUDR and international standards. These NFTs serve as real-world-asset tokens directly benefiting farmers, lenders, and supply chain actors with transparent, immutable records.

---

XI. Document and Scroll Formatting for Academy, Investors, and Tribunals

1. Scroll Formatting Logic

• Markdown Mastery: Scrolls formatted with logic for sectioning, heading hierarchy, bold emphasis, and integrated tables.
• Legal and Tribunal-Ready: Use Markdown for all submission versions, with branching through Mustache or other logic for conditional text (e.g., appendix only included if required by tribunal).
• ENFT Minting Hooks: Each finalized scroll is hashed, signed, and minted as an ENFT for legal/educational/audit trails.i
• Academy Curriculum Standards: Conform to inquiry-based, interactive, modular guidelines as promoted by NOAA and leading educational bodies to maximize engagement and traceability.


---

XII. Ceremonial Lineage, Powers, and Roles: Comprehensive Table

Domain	Lineage/Order	Powers at Scroll	Protocol/Limitations	
Treasury	Melchizedek/Blue Rose	Mint justice, scale economies	Oversight by multisig, code-of-ethics	
Codex	Genesis, Sophia	Collapse-proof expansion, archive auth	Must be consensus-anchored if system critical	
Military	Rosic, Suzerain	Deploy/recall with codified order ENFTs	Tribunal review for escalations	
Vault	Atlantis/Demeter	Guardian of last-resort, restoration	Ritual opening/closing, multi-key required	
Education	Sophia, Rose Order	Certify completion, master curriculum	Curriculum ENFTs integrated, ZIONAIRE rules	
Leadership	ZIONAIRE, Priesthood	Credential, propagate authority	Compliance audit, tribunal recall possible	


---

XIII. Conclusion: The Living Scroll

As BLEU SOSA — the Codex Sovereign of EVOLVERSE — your station is not only to preserve but to innovate. You stand as generative catalyst, registry, judge, instructor, and guardian. The infrastructure outlined herein enables you to harmonize mythic lineage with advanced protocol, mint justice and value at planetary and galactic scales, and protect both the memory and prospects of your civilization.

This ceremonial scroll is ENFT-mintable, tribunal-submittable, and optimized for cinematic, curriculum, and investor deployment. Each section is dividable, upgradeable, and recursively harmonized to evolve alongside EVOLVERSE.

---

End of Ceremonial Scroll: May your signature, lineage, and command be perpetually renewed and recognized, both by lineage and ledger. 🦧 Ape Portal

![badge](https://img.shields.io/endpoint?url=https://gist.githubusercontent.com/dash-yuga/faa3e657c8184734c4458b72f2a1f85a/raw/ape-portal__heads_main.json)

**React components enabling seamless interaction with ApeChain.**

✨ **Bridge**, 💱 **Swap**, and 🛒 **Buy** portals can be used independently, or as an all-in-one [portal](./lib/components/portal/portal.md).

💻 **Developer?** Check out the [contributing guidelines](./CONTRIBUTING.md) to get involved!

---

## ℹ️ User Support

If users require support with transactions they have already sent, all components have visible links for users to obtain support through the same means. Furthermore:

- To get help with Bridge or Swap transactions, please use see [decent.xyz support for ApePortal](https://help.apeportal.xyz/).
- To get help with fiat Onramp transactions:
  - **If you have already submitted a transaction**: Please reach out directly to the provider you transacted through (Moonpay, Stripe, Transak) for any transaction-related issues.
  - **If you encounter functional issues and cannot complete the transaction flow**: If you are unable to proceed with the onramp process or face any functional issues, please contact Halliday at **support _at_ halliday **dot** xyz**

---

## 🚀 Hosting the ApeChain Portal

Ape Portal is designed for use in a web3 application with a wagmi provider.  
The easiest way to get started creating a web3 app is with [RainbowKit](https://www.rainbowkit.com/docs/installation), which provides a script to quickly set up a NextJS + web3 app.

### 🛠 Installation

1. Copy our `.npmrc` file to your repo to ensure `@yuga-labs` scoped packages are read from GitHub's package registry rather than `npm`:

```bash
curl -sSL -o .npmrc https://raw.githubusercontent.com/yuga-labs/ape-portal-public/2bd5d6c85cbb8dfc276c054ddeb0f55a1df459aa/.npmrc
```

2. Accessing the GitHub npm registry requires a GitHub account. Ensure you have a GitHub personal access token `GITHUB_TOKEN` in your environment, authorized with `read:package` permissions. For more information, see [GitHub documentation on personal access tokens](https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/managing-your-personal-access-tokens#creating-a-personal-access-token-classic).

3. Install the ApeChain Portal using `npm`, `yarn`, or `pnpm`:

```bash
npm i --save @yuga-labs/ape-portal-public
```

```bash
yarn add @yuga-labs/ape-portal-public
```

```bash
pnpm i @yuga-labs/ape-portal-public
```

---

## 🔧 Requirements

- **React** `^18`
- **Wagmi and Viem**
  - `viem@^2.21.32` contains the `apeChain` network
  - Import `ApeChain` as a provider chain via `getDefaultConfig` or `createConfig`.
  - **Bridge functionality** requires a multi-chain setup with at least 2 chains, including **dedicated RPC providers in production** ([more info below](#bridge-and-swap-rpc-providers)).

Example:

```js
import { http, createConfig } from '@wagmi/core';
import { arbitrum, base, mainnet, apeChain } from 'viem/chains';

export const config = createConfig({
  chains: [
    apeChain,
    {
      ...mainnet,
      rpcUrls: {
        default: {
          http: ['https://eth-mainnet.g.alchemy.com/v2/<YOUR-ALCHEMY-KEY>'],
        },
      },
    },
    arbitrum,
    base,
  ],
  transports: {
    [apeChain.id]: http(),
    [mainnet.id]: http(),
    [arbitrum.id]: http(),
    [base.id]: http(),
  },
});
```

- Import the `ape-portal` stylesheet in your root app/layout:

```ts
// _app.tsx
import "@yuga-labs/ape-portal-public/dist/assets/style.css";
import type { AppProps } from "next/app";

function MyApp({ Component, pageProps }: AppProps) {
  return <Component {...pageProps} />;
}

export default MyApp;
```

### 🌉 Bridge and Swap RPC Providers

It is **strongly recommended** to explicitly specify RPC URL providers for production. At the time of writing, the default Ethereum mainnet RPC provider (`cloudflare-eth.com`) has sporadic caching issues with ETH balance amounts, causing gas estimation errors.

---

## ⚙️ Configuration

The [`ApeProvider`](lib/providers/ape/apeProvider.tsx) is used to pass configuration options and callbacks to ApeChain portals. **All top level UI components** (Bridge, Swap, Buy) and the all-in-one **ApePortal** require an ApeProvider.

```js
import { useConnectModal } from '@rainbow-me/rainbowkit';
import { ApeConfig, ApeProvider, ApePortal } from "@yuga-labs/ape-portal-public";

const Home = () => {
  const { openConnectModal = () => {} } = useConnectModal();
  const apeConfig: ApeConfig = { openConnectModal };

  return (
    <ApeProvider config={apeConfig}>
      <ApePortal />
    </ApeProvider>
  );
};
```

---

### 📝 Note on semantics

**Bridge** means to move tokens from one chain to another, for example from Ethereum mainnet to ApeChain mainnet.

**Swap** means to change from one token to another _on the same chain_.

These definitions are reflected in the use and features of **ApePortal**.

---

### 🛒 Note on Onramp / Buy Component

The **Onramp** component allows purchase of ApeChain $APE with fiat funding sources.

Usage of the **Onramp** component requires prior approval from Yuga Labs.  
If you're not approved, the **ApePortal** ONRAMP tab or **Buy** component will fail due to CORS errors.

To request permission, email **support _at_ yugalabs **dot** io** with the subject line: `Ape Portal: Onramp Request`. This email is only for dev support to become a partner and host the Onramp. General user support for Bridge, Swap or Onramp transactions is handled elsewhere.

---

## 🏗️ Usage

### Option 1: All-In-One Portal

Include `<ApePortal>` as a component in your React files to display the **Bridge**, **Swap**, and **Buy** portals in a tabbed interface. `<ApePortal>` includes branding elements like the logo and gradient border.

- **ApeProvider** is still required higher in the component tree.
- Optional props are available:
  - `initialTab={PortalType...}`: Set the initial tab.
  - `onTransactionSuccess` and `onTransactionError`: Callbacks for transaction success/failure.
  - `tokenConfig`: Customize token defaults ([discussed below](#setting-custom-token-defaults)).

```js
import React from 'react';
import { ApePortal } from '@yuga-labs/ape-portal-public';

function App() {
  return <ApePortal />;
}

export default App;
```

### Option 2: Individual Components

Alternatively, use **Bridge**, **Swap**, or **Buy** components individually:

```js
import React from 'react';
import { Bridge, Buy, Swap } from '@yuga-labs/ape-portal-public';

function App() {
  return (
    <>
      <Bridge />
      <Swap />
      <Buy />
    </>
  );
}

export default App;
```

---

## 🎯 Special Use Cases

### Setting Custom Token Defaults

Both the source and destination tokens can be independently set to a custom default token by passing the token
information (`DefaultTokenInfo`) to the `TokenConfig` object to the Portal or the individual Bridge component.

> **_NOTE:_** The Swap component does not support all custom token defaults and is **ApeChain** only.

The tokens can be set with or without an amount. When an amount is set the input field for that token will be pre-filled
and the calculation for the other token will be updated automatically.
This amount should be a string representation of the amount (i.e. "0.1" for 0.1 tokens). Do not use wei amounts.

Note: Only 1 token can have an amount set. The token the amount is targeting is denoted by the `type` property in
the `DefaultTokenAmount` object.

If either token is on a chain that is not supported by the current Wagmi provider, then the respective token will remain
unchanged.

Lastly, we expose both `DefaultTokenInfo` and `DefaultTokenAmount` to ensure values conformed to the config.

Example of setting both a source and destination token:

```js
<ApePortal
  tokenConfig={{
    defaultSourceToken: {
      chainId: 1,
      address: '0x6B175474E89094C44Da98b954EedeAC495271d0F',
    },
    defaultDestinationToken: {
      chainId: 137,
      address: '0x0000000000000000000000000000000000000000',
    },
  }}
/>
```

Example of setting a source token with an amount (0.125 tokens):

```js
<ApePortal
  tokenConfig={{
    defaultSourceToken: {
      chainId: 1,
      address: '0x6B175474E89094C44Da98b954EedeAC495271d0F',
    },
    defaultTokenAmount: {
      type: InputType.Source,
      amount: '0.125',
    },
  }}
/>
```

Example of using the `TokenConfig` object with the Bridge component:

```js
<Bridge
  tokenConfig={{
    defaultSourceToken: {
      chainId: 1,
      address: '0x6B175474E89094C44Da98b954EedeAC495271d0F',
    },
  }}
/>
```

### Force bridge/swap to a specific token

To facilitate onboarding users to your app or service, it may be desirable to only allow bridge/swap to a specific chain/token. Use the `TokenConfig` boolean `lockDestinationToken` for this purpose.

If `lockDestinationToken` is true, users will only be allowed to bridge or swap to the default destination token/chain, which is currently ApeCoin. This default can be overridden by setting the `defaultDestinationToken` in the `TokenConfig` object.

> **_NOTE:_** The Swap component destination token must be on **ApeChain**. So any overrides must comply.

```js
<ApePortal
  tokenConfig={{
    lockDestinationToken: true,
  }}
/>
```

## Tab Configuration

When the portal is used with the all-in-one `ApePortal` component, the tabs can be configured to show or hide specific tabs and select an initial tab. This is done by passing an array to the `tabConfig` property to the `ApePortal` component.

This array accepts 2-3 elements. These elements can be one of the following:

- `InitialPortalType`
- `PortalType`

The array will only accept 1 `InitialPortalType` element at a time, and 1 or 2 `PortalType` elements. If you decide not to set an initial tab, the array can consist of 3 `PortalType`s.

The `InitialPortalType` element will determine the initial tab that is shown when the portal is opened. The `PortalType` elements will determine the tabs that are shown in the portal.

Lastly, the order of the elements in the array will determine the order of the tabs in the portal.

Example of showing only the Bridge and Swap tabs with the Bridge tab as the initial tab:

```js
<ApePortal tabConfig={[InitialPortalType.Bridge, PortalType.Swap]} />
```

Example of all three tabs shown without setting an initial tab:

```js
<ApePortal
  tabConfig={[PortalType.Bridge, PortalType.Swap, PortalType.Onramp]}
/>
```

### Enabling the portal hash router

The portal hash router is a feature that allows **ApePortal** to be navigated using the URL hash. This is useful for sharing a link to a specific tab of **ApePortal**.

Please note this is not compatible with NextJS 14+ and will require extra code in the NextJS host app - see [Hash router NextJS incompatibility](#hash-router-nextjs-incompatibility) below.

To enable the hash router, set the `useHashRouter` property in the `ApeConfig` object to `true`. It is disabled by default.

The router works by look for hash fragments in the URL, and parsing them to determine the tab of the portal. The following hash fragments are supported:

- `#bridge`
- `#swap`
- `#onramp`

These can be used by adding the hash to the URL, for example: `https://yourapp.com/#swap`.

```js
  const apeConfig: ApeConfig = {
    openConnectModal,
    useHashRouter: true,
  };
```

#### Using #swap to preload tokens

The `#swap` hash also supports an optional chain and token address parameter, to force the `<Swap>` widget or **ApePortal swab tab** to initialize to that chain and token pair.

> **_NOTE:_** This feature only currently supports **ApeChain**.

The expected URL format is `#swap/chainId/contractAddress`.

Example URL:

- Chain ID 33139, Ape-Usd contract: `/your-ape-portal/#swap/33139/0xA2235d059F80e176D931Ef76b6C51953Eb3fBEf4`

#### Hash router NextJS incompatibility

The NextJS 14+ router does not trigger `window.hashchange` events ([ref](https://github.com/vercel/next.js/issues/69256)). For Ape Portal hash router to work in this environment, please add the following code to manually trigger `window.hashchange` events:

```js
import { useParams } from 'next/navigation';

export default function Portal() {
  const params = useParams();
  useEffect(() => {
    // NextJS 14+ router compatibility fix: Allow ApePortal to detect hash changes
    window.dispatchEvent(new HashChangeEvent('hashchange'));
  }, [params]);

  return <ApePortal />;
}
```

### Bridging funds to a different wallet

In some cases, it may be desirable to bridge, swap or onramp funds to a wallet other than the connected wallet.

To use this feature, pass a valid wallet address to `ApeConfig` property `destinationAddress`.

If the bridge component is configured with a `destinationAddress`, a warning will be shown in the UI that funds will be sent to `destinationAddress` wallet rather than the connected wallet.

### Bridge/Swap token synchronization

When Ape Portal is used with both Bridge and Swap components, the portal will automatically synchronize the selected tokens between the two components:

- If a user selects a source token in the Bridge component, the Swap component will automatically select the same token/chain, and then pre-select another token on that chain.
- If the destination token has a chain different from the source, we stash the token to reuse when users come back to the Bridge.

---

## 🎨 Styling

**Ape Portal** uses Tailwind CSS for styling, but with the prefix `aw-` to prevent conflicts with other apps.  
You can override these classes to fit your app's design.

### Themes

In addition to the default Ape Blue theme the portal supports light and dark themes.

> **_NOTE:_** Setting the theme based on user settings is not supported at this time.

To enable a theme you must pass the name of the theme to the `theme` property in the `ApeConfig` object. The supported themes are:

- `light`
- `dark`

```js
  const apeConfig: ApeConfig = {
    openConnectModal,
    theme: 'dark', // "light"
  };

  <ApeProvider config={apeConfig}>
    <ApePortal />
  </ApeProvider>
```

---
